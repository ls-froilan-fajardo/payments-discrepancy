<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payments Reconciliation Tool</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header-row">
    <div class="main-title-group">
        <h1>Payments Dashboard</h1>
    </div>
    
    <div class="global-controls-container">
        <button id="themeToggleBtn" class="primary-btn" style="background-color: var(--undo);">ðŸŒ™ Dark</button>
        
        <div class="separator" style="width:1px; height:20px; background:var(--border); margin:0 5px;"></div>

        <label style="font-size:11px; font-weight:600; color:var(--text-muted);">Filter:</label>
        <select id="globalDateFilter" class="date-select">
            <option value="">All Dates</option>
        </select>
        
        <button id="matchAllBtn" class="primary-btn">Match IDs</button>
        <button id="sortAmountBtn" class="primary-btn filter-btn">Sort Amount</button>
        <button id="showRedOnlyBtn" class="primary-btn filter-btn">Red Only</button>
        <button id="resetViewBtn" class="primary-btn reset-btn">Reset</button>
    </div>
</div>

<div class="controls-section">
    <div class="control-panel left-control-panel">
        <div class="panel-header">
            <h3>Back Office</h3>
            <input type="file" id="csvFileLeft" accept=".csv" />
        </div>
        <div style="margin-bottom: 5px;">
            <select id="leftDateFormat" class="date-select" style="width:100%; margin:0;">
                <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                <option value="DD/MM/YY">DD/MM/YY</option>
                <option value="MM/DD/YYYY">MM/DD/YYYY</option>
                <option value="MM/DD/YY">MM/DD/YY</option>
                <option value="YYYY-MM-DD">YYYY-MM-DD</option>
            </select>
        </div>
        <div class="checkbox-area">
            <strong>Method:</strong>
            <div class="checkboxes" id="methodCheckboxesLeft"></div>
        </div>
    </div>

    <div class="control-panel right-control-panel">
        <div class="panel-header">
            <h3>Financial Services</h3>
            <input type="file" id="csvFileRight" accept=".csv" />
        </div>
        <div style="margin-bottom: 5px; height: 26px;"></div> <div class="checkbox-area">
            <strong>Channel:</strong>
            <div class="checkboxes" id="channelCheckboxesRight"></div>
        </div>
    </div>
</div>

<div class="table-action-toolbar">
    <span class="label-text">Selected Actions (Space/Del/Ctrl+Z):</span>
    <button id="btnShift" class="btn-shift">Shift Down</button>
    <button id="btnRemove" class="btn-remove">Remove Row</button>
    <div style="flex-grow:1"></div> 
    <button id="btnUndo" class="btn-undo">Undo</button>
</div>

<div class="unified-scroll-view">
    <div class="split-table-container">
        <div id="outputLeft" class="table-side left-side"></div>
        <div id="outputRight" class="table-side right-side"></div>
    </div>
</div>

<div id="floatingWidget" class="floating-widget">
    <div id="floatingHeader" class="widget-header">
        <span>Selection Total</span>
        <span style="font-size: 10px; opacity: 0.7;">::</span>
    </div>
    <div class="widget-content">
        <div class="stat-row">
            <span class="stat-label">Sum:</span>
            <span id="floatSum" class="stat-value">0.00</span>
        </div>
        <div class="stat-row">
            <span class="stat-label">Count:</span>
            <span id="floatCount" class="stat-value">0</span>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
